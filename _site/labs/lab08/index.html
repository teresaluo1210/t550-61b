

<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">

  <link rel="stylesheet" href="/assets/css/just-the-docs-default.css">

  <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet">

  <style id="jtd-nav-activation">
  

.site-nav > ul.nav-list:first-child > li > a,
.site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(8)) > a,
.site-nav > ul.nav-list:first-child > li > ul > li > ul > li > a {
  background-image: none;
}

.site-nav > ul.nav-list:not(:first-child) a,
.site-nav li.external a {
  background-image: none;
}

.site-nav > ul.nav-list:first-child > li:nth-child(3) > ul > li:nth-child(8) > a {
  font-weight: 600;
  text-decoration: none;
}.site-nav > ul.nav-list:first-child > li:nth-child(3) > button svg,
.site-nav > ul.nav-list:first-child > li:nth-child(3) > ul > li:nth-child(8) > button svg {
  transform: rotate(-90deg);
}.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(3) > ul.nav-list,
.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(3) > ul.nav-list > li.nav-list-item:nth-child(8) > ul.nav-list {
  display: block;
}
  </style>

  

  
    <script src="/assets/js/vendor/lunr.min.js"></script>
  

  <script src="/assets/js/just-the-docs.js"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">

  

  <link rel="icon" href="/favicon.ico" type="image/x-icon">



  <!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Lab 08: LLRBs | Mock CS 61B (T550 Version)</title>
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Lab 08: LLRBs" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Data Structures Mock Site for T550 Final Project" />
<meta property="og:description" content="Data Structures Mock Site for T550 Final Project" />
<link rel="canonical" href="http://localhost:4000/labs/lab08/" />
<meta property="og:url" content="http://localhost:4000/labs/lab08/" />
<meta property="og:site_name" content="Mock CS 61B (T550 Version)" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Lab 08: LLRBs" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Data Structures Mock Site for T550 Final Project","headline":"Lab 08: LLRBs","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/images/bee.png"}},"url":"http://localhost:4000/labs/lab08/"}</script>
<!-- End Jekyll SEO tag -->


  <link rel="preload" href="/assets/css/just-the-docs-dark.css" as="style" />

<!-- Intentionally duplicates the default theme stylesheet so there's a fallback when changing themes -->
<link id="jtdThemeCSS" rel="stylesheet" href="/assets/css/just-the-docs-default.css">

<script>
  /* Script to enable persistent dark mode. */

  jtd.getTheme = function() {
    var cssFileHref = (document.getElementById('jtdThemeCSS') || document.querySelector('[rel="stylesheet"]')).getAttribute('href');
    return cssFileHref.substring(cssFileHref.lastIndexOf('-') + 1, cssFileHref.length - 4);
  }

  jtd.setTheme = function(theme) {
    var cssFile = document.getElementById('jtdThemeCSS') || document.querySelector('[rel="stylesheet"]');
    cssFile.setAttribute('href', cssFile.getAttribute('href').replace(jtd.getTheme(), theme));
  }

  let toggleDark = () => {
    let setDark = jtd.getTheme() !== 'dark';
    jtd.setTheme(setDark ? 'dark' : 'default');
    localStorage.setItem('darkMode', String(setDark));
  };

  /* Read local storage state. */
  if (localStorage.getItem('darkMode') === 'true') {
    toggleDark();
  }
</script>

<!-- Script for LaTeX rendering. -->
<link rel="stylesheet" href="/assets/katex/katex.min.css">
<script defer src="/assets/katex/katex.min.js"></script>
<script>
function renderKaTeX() {
  renderMathInElement(document.body, {
    delimiters: [
      {left: '$$', right: '$$', display: true},
      {left: '$', right: '$', display: false},
      {left: '\\(', right: '\\)', display: false},
      {left: '\\[', right: '\\]', display: true},
    ],
  });
}
</script>
<script defer src="/assets/katex/contrib/auto-render.min.js" onload="renderKaTeX();"></script>


</head>

<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>

  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>

  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>

  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>

  
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>

    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>

  
  
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>

  
</svg>

  
    <div class="side-bar">
    <div class="site-header" role="banner">
        <a href="/" class="site-title lh-tight">
  <div class="site-logo" role="img" aria-label="Mock CS 61B (T550 Version)"></div>

</a>
        <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
            <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
        </button>
    </div><nav aria-label="Main" id="site-nav" class="site-nav">
  
  
    <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Course Info category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/policies/" class="nav-list-link">Course Info</a><ul class="nav-list"><li class="nav-list-item"><a href="/policies/exams/" class="nav-list-link">Exam Policies</a></li><li class="nav-list-item"><a href="/policies/extensions/" class="nav-list-link">Extensions Policy</a></li><li class="nav-list-item"><a href="/policies/47b/" class="nav-list-link">CS 47B</a></li><li class="nav-list-item"><a href="/policies/academic-misconduct/" class="nav-list-link">Academic Misconduct</a></li><li class="nav-list-item"><a href="/policies/fa25-faqs/" class="nav-list-link">FA25 FAQs</a></li><li class="nav-list-item"><a href="/policies/incompletes/" class="nav-list-link">Incomplete Grades</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Labs category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/labs/" class="nav-list-link">Labs</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 01: Setup category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/labs/lab01/" class="nav-list-link">Lab 01: Setup</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/labs/lab01/faq/" class="nav-list-link">FAQ</a>
              </li><li class="nav-list-item">
                <a href="/labs/lab04/terminal/" class="nav-list-link">How to Use the Terminal</a>
              </li><li class="nav-list-item">
                <a href="/labs/lab01/terminal/" class="nav-list-link">How to Use the Terminal</a>
              </li><li class="nav-list-item">
                <a href="/labs/lab01/linux/" class="nav-list-link">Linux/Unix</a>
              </li><li class="nav-list-item">
                <a href="/labs/lab01/mac/" class="nav-list-link">Mac OS</a>
              </li><li class="nav-list-item">
                <a href="/labs/lab01/windows/" class="nav-list-link">Windows</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 02: Debugging (Part 1) category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/labs/lab02/" class="nav-list-link">Lab 02: Debugging (Part 1)</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/labs/lab02/faq/" class="nav-list-link">FAQ</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 03: Debugging (Part 2) category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/labs/lab03/" class="nav-list-link">Lab 03: Debugging (Part 2)</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/labs/lab03/faq/" class="nav-list-link">FAQ</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 04: Git category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/labs/lab04/" class="nav-list-link">Lab 04: Git</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/labs/lab04/faq/" class="nav-list-link">FAQ</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 05: Project 1 Review category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/labs/lab05/" class="nav-list-link">Lab 05: Project 1 Review</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/labs/lab05/faq/" class="nav-list-link">FAQ</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 06: BSTMap category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/labs/lab06/" class="nav-list-link">Lab 06: BSTMap</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/labs/lab06/asymptotics-soln/" class="nav-list-link">Asymptotics Problems Solutions</a>
              </li><li class="nav-list-item">
                <a href="/labs/lab06/faq/" class="nav-list-link">FAQ</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 07: Hashmaps category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/labs/lab07/" class="nav-list-link">Lab 07: Hashmaps</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/labs/lab07/faq/" class="nav-list-link">FAQ</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 08: LLRBs category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/labs/lab08/" class="nav-list-link">Lab 08: LLRBs</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/labs/lab08/faq/" class="nav-list-link">FAQ</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 09: Introduction to Project 3 (Optional) category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/labs/lab09/" class="nav-list-link">Lab 09: Introduction to Project 3 (Optional)</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab 10: Tetris (Optional) category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/labs/lab10/" class="nav-list-link">Lab 10: Tetris (Optional)</a><ul class="nav-list"></ul></li><li class="nav-list-item"><a href="/labs/lab11/" class="nav-list-link">Lab 11: Comparison-Based Sorts (Optional)</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Lab X: Disjoint Sets category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/labs/disjoint-sets/" class="nav-list-link">Lab X: Disjoint Sets</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/labs/disjoint-sets/faq/" class="nav-list-link">FAQ</a>
              </li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Projects category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/projects/" class="nav-list-link">Projects</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Project 0: 2048 category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/projects/proj0/" class="nav-list-link">Project 0: 2048</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/projects/proj0/faq/" class="nav-list-link">FAQ</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Project 0: 2048 (Hard Mode) category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/projects/proj0/hardmode/" class="nav-list-link">Project 0: 2048 (Hard Mode)</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Project 1A: LinkedListDeque61B category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/projects/proj1a/" class="nav-list-link">Project 1A: LinkedListDeque61B</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/projects/proj1a/faq/" class="nav-list-link">FAQ - Project 1A: Linked List Deque 61B</a>
              </li><li class="nav-list-item">
                <a href="/projects/proj1a/flags/" class="nav-list-link">Coverage Tests - Project 1A: Linked List Deque 61B</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Project 1B: ArrayDeque61B category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/projects/proj1b/" class="nav-list-link">Project 1B: ArrayDeque61B</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/projects/proj1b/faq/" class="nav-list-link">FAQ - Project 1B: Array Deque 61B</a>
              </li><li class="nav-list-item">
                <a href="/projects/proj1b/flags/" class="nav-list-link">Coverage Tests - Project 1B: Array Deque 61B</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Project 2A: Ngordnet (NGrams) category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/projects/proj2a/" class="nav-list-link">Project 2A: Ngordnet (NGrams)</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/projects/proj2a/faq/" class="nav-list-link">FAQ - Project 2A</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Project 2B: Ngordnet (Wordnet) category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/projects/proj2b/" class="nav-list-link">Project 2B: Ngordnet (Wordnet)</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/projects/proj2b/faq/" class="nav-list-link">FAQ - Project 2B</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Project 3: Build Your Own World category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/projects/proj3/" class="nav-list-link">Project 3: Build Your Own World</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/projects/proj3/partnerships/" class="nav-list-link">Partnerships</a>
              </li><li class="nav-list-item">
                <a href="/projects/proj3/setup/" class="nav-list-link">Setup</a>
              </li><li class="nav-list-item">
                <a href="/projects/proj3/proj3a/" class="nav-list-link">3A: World Generation</a>
              </li><li class="nav-list-item">
                <a href="/projects/proj3/proj3b/" class="nav-list-link">3B: Gameplay</a>
              </li><li class="nav-list-item">
                <a href="/projects/proj3/ambition/" class="nav-list-link">BYOW Ambition Features</a>
              </li><li class="nav-list-item">
                <a href="/projects/proj3/checkoff/" class="nav-list-link">BYOW Checkoff Script</a>
              </li><li class="nav-list-item">
                <a href="/projects/proj3/common-bugs/" class="nav-list-link">BYOW Common Bugs</a>
              </li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Homeworks category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/homeworks/" class="nav-list-link">Homeworks</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Homework 0 category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/homeworks/hw0/" class="nav-list-link">Homework 0</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/homeworks/hw0/hw0a/" class="nav-list-link">Homework 0A: Java Syntax</a>
              </li><li class="nav-list-item">
                <a href="/homeworks/hw0/hw0b/" class="nav-list-link">Homework 0B: Data Structures</a>
              </li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Homework 2: Percolation category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/homeworks/hw2/" class="nav-list-link">Homework 2: Percolation</a><ul class="nav-list"></ul></li><li class="nav-list-item"><a href="/homeworks/hw3/" class="nav-list-link">Homework 3: Midterm 2 Review FAQ</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Resources category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/resources/" class="nav-list-link">Resources</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Guides category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/resources/guides/" class="nav-list-link">Guides</a><ul class="nav-list"><li class="nav-list-item">
                <a href="/resources/guides/asymptotics/" class="nav-list-link">Asymptotics</a>
              </li><li class="nav-list-item">
                <a href="/resources/guides/beacon/" class="nav-list-link">Beacon Guide</a>
              </li><li class="nav-list-item">
                <a href="/resources/guides/ed/" class="nav-list-link">Ed Policies and Guidelines</a>
              </li><li class="nav-list-item">
                <a href="/resources/guides/gitbug/" class="nav-list-link">Gitbugs</a>
              </li><li class="nav-list-item">
                <a href="/resources/guides/intellij/" class="nav-list-link">IntelliJ</a>
              </li><li class="nav-list-item">
                <a href="/resources/guides/oh/" class="nav-list-link">Online OH Guide</a>
              </li><li class="nav-list-item">
                <a href="/resources/guides/partnerships/" class="nav-list-link">Project 3 Partnerships</a>
              </li><li class="nav-list-item">
                <a href="/resources/guides/style/" class="nav-list-link">Style Guide</a>
              </li><li class="nav-list-item">
                <a href="/resources/guides/git/" class="nav-list-link">Using Git</a>
              </li><li class="nav-list-item">
                <a href="/resources/guides/soda-machines/" class="nav-list-link">Using the Soda Lab Machines</a>
              </li></ul></li><li class="nav-list-item"><a href="/resources/academic/" class="nav-list-link">Academic Resources</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Conceptual Resources category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/resources/conceptual/" class="nav-list-link">Conceptual Resources</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Exam Resources category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/resources/exams/" class="nav-list-link">Exam Resources</a><ul class="nav-list"></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Support Resources category" aria-pressed="false">
            <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
          </button><a href="/resources/support/" class="nav-list-link">Support Resources</a><ul class="nav-list"></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Troubleshooting category" aria-pressed="false">
      <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
    </button><a href="/troubleshooting/" class="nav-list-link">Troubleshooting</a><ul class="nav-list"><li class="nav-list-item"><a href="/troubleshooting/git-wtfs/" class="nav-list-link">Git WTFS</a></li><li class="nav-list-item"><a href="/troubleshooting/intellij-wtfs/" class="nav-list-link">IntelliJ WTFS</a></li></ul></li></ul>

  
</nav>


    
    
    <footer class="site-footer" aria-label="just-the-docs-footer">
        This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
    
</div>
  
  <div class="main" id="top">
    <div id="main-header" class="main-header">
  
    

<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Mock CS 61B (T550 Version)" aria-label="Search Mock CS 61B (T550 Version)" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>

  
  <script>
  // Adding the site logo and title to the navbar like this until JTD adds support for it:
  // https://github.com/just-the-docs/just-the-docs/issues/938
  const logoWrapper = document.querySelector(".site-title");
  const siteLogo = document.querySelector(".site-logo");
  siteLogo.style.width = "50px";
  const siteTitle = document.createElement("span");
  siteTitle.textContent = "CS 61B";
  logoWrapper.appendChild(siteTitle);
</script>

  
    <nav aria-label="Auxiliary" class="aux-nav">
  <ul class="aux-nav-list">
    
      <li class="aux-nav-list-item">
        <a href="#" class="site-button"
          
        >
          Dark Mode
        </a>
      </li>
    
  </ul>
</nav>

  
</div>

    <div class="main-content-wrap">
      <nav aria-label="Breadcrumb" class="breadcrumb-nav">
  <ol class="breadcrumb-nav-list">
    <li class="breadcrumb-nav-list-item"><a href="/labs/">Labs</a></li>
    <li class="breadcrumb-nav-list-item"><span>Lab 08: LLRBs</span></li>
  </ol>
</nav>
      <div id="main-content" class="main-content">
        <main>
          
            <nav class="content-nav ">
      <ul class="nav-list js-toc"><li class="nav-list-item">Lab 08: LLRBs<ul><li class="nav-list-item"><a href="#faq" class="nav-list-link">FAQ</a></li><li class="nav-list-item"><a href="#before-you-begin" class="nav-list-link">Before You Begin</a></li><li class="nav-list-item"><a href="#learning-goals" class="nav-list-link">Learning Goals</a></li><li class="nav-list-item"><a href="#introduction" class="nav-list-link">Introduction</a><ul><li class="nav-list-item"><a href="#links-vs-nodes" class="nav-list-link">Links vs Nodes</a></li></ul></li><li class="nav-list-item"><a href="#left-leaning-red-black-trees" class="nav-list-link">Left-Leaning Red-Black Trees</a><ul><li class="nav-list-item"><a href="#llrb-tree-properties" class="nav-list-link">LLRB Tree Properties</a></li></ul></li><li class="nav-list-item"><a href="#inserting-into-llrb-trees" class="nav-list-link">Inserting Into LLRB Trees</a><ul><li class="nav-list-item"><a href="#invariant-if-a-node-has-one-red-child-it-must-be-on-the-left" class="nav-list-link">Invariant: If a node has one red child, it must be on the left</a></li><li class="nav-list-item"><a href="#invariant-no-node-can-have-two-red-children" class="nav-list-link">Invariant: No node can have two red children</a></li><li class="nav-list-item"><a href="#invariant-no-red-node-can-have-a-red-parent-every-red-nodes-parent-is-black" class="nav-list-link">Invariant: No red node can have a red parent (every red node’s parent is black)</a></li><li class="nav-list-item"><a href="#llrb-insertion-summary" class="nav-list-link">LLRB Insertion Summary</a></li></ul></li><li class="nav-list-item"><a href="#llrb-tree-implementation" class="nav-list-link">LLRB Tree Implementation</a><ul><li class="nav-list-item"><a href="#exercise-color-flip" class="nav-list-link">Exercise: Color Flip</a></li><li class="nav-list-item"><a href="#exercise-rotations" class="nav-list-link">Exercise: Rotations</a></li><li class="nav-list-item"><a href="#exercise-insert" class="nav-list-link">Exercise: insert</a></li></ul></li><li class="nav-list-item"><a href="#deliverables-and-scoring" class="nav-list-link">Deliverables and Scoring</a></li><li class="nav-list-item"><a href="#submission" class="nav-list-link">Submission</a></li></ul></li></ul>
    </nav>
    <div class="content-container">
<h1 class="title">
  
  
    Lab 08: LLRBs
  
  
</h1>
    
<h2 id="faq">
  
  
    <a href="#faq" class="anchor-heading" aria-labelledby="faq"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> FAQ
  
  
</h2>
    

<p>The FAQ for this lab can be found <a href="/labs/lab08/faq/">here</a>.</p>
<h2 id="before-you-begin">
  
  
    <a href="#before-you-begin" class="anchor-heading" aria-labelledby="before-you-begin"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Before You Begin
  
  
</h2>
    

<p>As usual, pull the Lab 08 files from the <code class="language-plaintext highlighter-rouge">skeleton</code> and open them in IntelliJ.</p>
<h2 id="learning-goals">
  
  
    <a href="#learning-goals" class="anchor-heading" aria-labelledby="learning-goals"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Learning Goals
  
  
</h2>
    

<p>In this lab, we will be implementing left-leaning red-black trees.</p>
<h2 id="introduction">
  
  
    <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction
  
  
</h2>
    

<p>In the previous labs, we’ve analyzed the performance of algorithms for
access and insertion into the binary search tree. However, in some cases,
we’ve always assumed that the trees were <em>balanced</em> - as we’ve seen,
it’s possible to produce a <em>spindly</em> tree that affects the performance
of our data structure.</p>

<p>Informally, a tree being “balanced” means that the paths from the root to
each leaf are all roughly the same length. Any algorithm that looks once at
each level of the tree – such as searching for a value in the binary search
tree – only looks at the number of layers. In regard to the binary search
tree, the smallest number of layers we can have is logarithmic with respect
to number of nodes (i.e. \(\log N\)).</p>

<p>To maintain this property of “balanced”, we want to prevent the worst case scenario
of obtaining a “spindly” tree, which leads to worse performance times. This is where
balanced search trees/b-trees come in - they are effectively self-balancing and will
maintain the “balanced” property that we want.</p>

<p>However, in this lab, we won’t be focusing on implementing balanced search trees - why? While
they do guarantee that a path from the root to any leaf is \(O(\log N)\), they’re
also notoriously difficult and cumbersome to code, with numerous corner cases for
common operations. They are still commonly used and provide plenty of benefits, but
they do have drawbacks. <strong>Keep in mind that we’ll still reference balanced search trees
throughout this lab (any reference to a balanced search tree from here on out is a reference
to a 2-3 tree).</strong></p>

<p>We then turn our attention to a related data structure: <strong>left-leaning red-black trees</strong>.
We recommend that you review the relevant lecture slides before getting started on this lab.</p>
<h3 id="links-vs-nodes">
  
  
    <a href="#links-vs-nodes" class="anchor-heading" aria-labelledby="links-vs-nodes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Links vs Nodes
  
  
</h3>
    

<p class="danger"><strong>Please do not skip this section. This is important for you to
read before you continue on with the rest of the lab.</strong> It will be much harder for you
if you do not read this section.</p>

<p>In lecture, we’ve introduced the concept of LLRBs with <strong>links</strong>. However, for this lab,
we will not be representing our LLRBs with links. Instead, we’ll be using <strong>nodes</strong>. The main
reason for this is that the implementation with links <strong>is much harder</strong> than with nodes.
To cover our ground here, consider the example below of how we’ve introduced the visualization
of it in lecture.</p>

<p><img src="/labs/lab08/img/original_links.png" alt="" /></p>

<p>For this lab, since we’ll be handling colored nodes - the relationship between the red link
and its connected node can be defined like below:</p>

<p><img src="/labs/lab08/img/link_to_node.png" alt="" /></p>

<p>Originally, <code class="language-plaintext highlighter-rouge">A</code> was connected to <code class="language-plaintext highlighter-rouge">B</code> by a red link. But if we use colored nodes in our representation
instead of links, <code class="language-plaintext highlighter-rouge">A</code> itself would be colored red. The visualization above is meant to show
how a red link would map to a colored node, so please keep this mind for the rest of the lab!</p>

<p class="warning"><strong>Be aware of the relationship between the colored link and
the corresponding colored node, as for the rest of the lab, we’ll be using colored nodes
in our examples and descriptions to make the lab implementation easier.</strong></p>
<h2 id="left-leaning-red-black-trees">
  
  
    <a href="#left-leaning-red-black-trees" class="anchor-heading" aria-labelledby="left-leaning-red-black-trees"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Left-Leaning Red-Black Trees
  
  
</h2>
    

<p>At its core, LLRBs are just a binary search tree, but there are a few additional
invariants related to “coloring” each node red or black. This “coloring” creates
a one-to-one mapping between 2-3 trees and LLRBs! <strong>In particular, every 2-3 tree
corresponds to exactly one LLRB, and vice-versa.</strong></p>

<p>The consequence is quite astounding: LLRBs maintain the balance of
2-3 trees while inheriting all normal binary search tree operations
with additional housekeeping.</p>
<h3 id="llrb-tree-properties">
  
  
    <a href="#llrb-tree-properties" class="anchor-heading" aria-labelledby="llrb-tree-properties"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> LLRB Tree Properties
  
  
</h3>
    

<p>We now specify some properties of LLRB trees. In particular, we
use the one-to-one mapping between valid LLRB trees and 2-3
trees to derive some of these properties.</p>

<dl>
  <dt>Using colored nodes as our representation, the root node must be colored black.</dt>
  <dd>Our interpretation of red nodes is that they are in the same 2-3 node as
their parent. The root node has no parent, so it cannot be red.</dd>
  <dt>If a node has a red child, it must be on the left.</dt>
  <dd>This makes the tree left-leaning.</dd>
  <dt>No node can have two red children.</dt>
  <dd>If a node has two red children, then both children are in the same 2-3 node
as the parent. This means that the corresponding 2-3 node contains 3 keys,
which is not allowed.</dd>
  <dt>No red node can have a red parent (every red node’s parent is black).</dt>
  <dd>If a red node has a red parent, then both the red child and red parent are in
the same 2-3 node as the red parent’s parent. This means that the
corresponding 2-3 node contains 3 keys, which is not allowed.</dd>
  <dt>In a balanced LLRB tree, every path to a null reference goes through the same number of black nodes.</dt>
  <dd>In a balanced 2-3 tree, every null node is the same distance from the root.
We also know that every black node in an LLRB tree corresponds to exactly one
node in the equivalent 2-3 tree. Therefore, every null node in an LLRB tree
is the same number of black nodes from the root.</dd>
</dl>
<h2 id="inserting-into-llrb-trees">
  
  
    <a href="#inserting-into-llrb-trees" class="anchor-heading" aria-labelledby="inserting-into-llrb-trees"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Inserting Into LLRB Trees
  
  
</h2>
    

<p><strong>Insertion into LLRB trees starts off with the regular binary search tree
insertion algorithm</strong>, where we search to find the appropriate leaf location.</p>

<p class="info"><strong>Whenever we insert a node into a LLRB, we insert it as a red node.</strong></p>

<p>However, once we’ve placed the node, this can can break the LLRB
invariants, so we need additional operations that can “restore” LLRB properties.
We know that there is a one-to-one correspondence of valid
LLRB to 2-3 trees. Let’s use this correspondence to try to derive
these operations.</p>

<p>We’ll cover different cases when our invariants are broken and the appropriate
operations to fix them.</p>
<h3 id="invariant-if-a-node-has-one-red-child-it-must-be-on-the-left">
  
  
    <a href="#invariant-if-a-node-has-one-red-child-it-must-be-on-the-left" class="anchor-heading" aria-labelledby="invariant-if-a-node-has-one-red-child-it-must-be-on-the-left"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Invariant: If a node has one red child, it must be on the left
  
  
</h3>
    

<p>As mentioned, our inserted node will be red. Let’s say we insert our node into our
LLRB and it ends up as a <strong>right child</strong> of node <code class="language-plaintext highlighter-rouge">a</code> (this implies that the value in our
node is greater than <code class="language-plaintext highlighter-rouge">a</code>). <strong>Let’s assume that the left child of node <code class="language-plaintext highlighter-rouge">a</code> is black or
doesn’t exist.</strong> This breaks our invariant, where “If a node has one red
child, it must be on the left”. Since we can’t have any red-leaning nodes, we
would want to <strong>rotate left</strong> on the parent node. An example is shown below:</p>

<p><img src="/labs/lab08/img/rotate_left.png" alt="" style="max-height: 250px;" /></p>
<h3 id="invariant-no-node-can-have-two-red-children">
  
  
    <a href="#invariant-no-node-can-have-two-red-children" class="anchor-heading" aria-labelledby="invariant-no-node-can-have-two-red-children"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Invariant: No node can have two red children
  
  
</h3>
    

<p>Let’s consider another case. Similar to above, we insert our node into the LLRB
as a red node, and it ends up as the <strong>right child</strong> of node <code class="language-plaintext highlighter-rouge">b</code> (in this example).
What happens when node <code class="language-plaintext highlighter-rouge">b</code>’s left child is a red node? This then breaks the invariant
of “No node can have two red children”. We then perform the operation
“color flip” on the parent. Here, we apply the color flip operation on <code class="language-plaintext highlighter-rouge">b</code>,
flipping its color with its childrens’ colors.</p>

<p><img src="/labs/lab08/img/color_flip.png" alt="" style="max-height: 250px;" /></p>

<p>We will return to this configuration later.</p>
<h3 id="invariant-no-red-node-can-have-a-red-parent-every-red-nodes-parent-is-black">
  
  
    <a href="#invariant-no-red-node-can-have-a-red-parent-every-red-nodes-parent-is-black" class="anchor-heading" aria-labelledby="invariant-no-red-node-can-have-a-red-parent-every-red-nodes-parent-is-black"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Invariant: No red node can have a red parent (every red node’s parent is black)
  
  
</h3>
    

<p>This can be broken down into two cases defined below.</p>
<h4 id="two-consecutive-left-leaning-red-nodes">
  
  
    <a href="#two-consecutive-left-leaning-red-nodes" class="anchor-heading" aria-labelledby="two-consecutive-left-leaning-red-nodes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Two consecutive left-leaning red nodes.
  
  
</h4>
    

<p>What happens if we insert our node and it ends up as a left child of a red node?
In this case, we then want to adjust our operation and “rotate right” (<strong>in other
words, it is not possible to have two left-leaning red nodes</strong>).</p>

<p>Rotating right is the opposite of rotating left! It will give us back the
original subtree if applied to the new root.</p>

<p>In this case, we rotate right on <code class="language-plaintext highlighter-rouge">b</code>:</p>

<p><img src="/labs/lab08/img/rotate_right.png" alt="" style="max-height: 250px;" /></p>

<p>At this point, we notice that it’s the same pattern as the previous case, so
we apply a color flip to <code class="language-plaintext highlighter-rouge">a</code>.</p>
<h4 id="red-node-with-a-right-leaning-red-childnode">
  
  
    <a href="#red-node-with-a-right-leaning-red-childnode" class="anchor-heading" aria-labelledby="red-node-with-a-right-leaning-red-childnode"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Red node with a right-leaning red child/node.
  
  
</h4>
    

<p>In the other case, we might end up with our node becoming the right child of an
already red node. In this case, we then apply our rotate left operation.</p>

<p>As shown below, we rotate left on <code class="language-plaintext highlighter-rouge">a</code> in this example and we get:</p>

<p><img src="/labs/lab08/img/rotate_left2.png" alt="" style="max-height: 250px;" /></p>

<p><strong>Note that this ties into the invariant mentioned above, where we can’t have a
right-leaning red node.</strong> Here, we have the previous case again, so we know that we can rotate right on
<code class="language-plaintext highlighter-rouge">b</code> and apply a color flip to the root, <code class="language-plaintext highlighter-rouge">x</code>.</p>
<h4 id="upward-propagation">
  
  
    <a href="#upward-propagation" class="anchor-heading" aria-labelledby="upward-propagation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Upward Propagation
  
  
</h4>
    

<p>Hold on – notice that some of these cases we just covered have ended up in a color flip.
What if the subtree we modified was a <em>right subtree</em>, and the rest of the tree looked
like this:</p>

<p><img src="/labs/lab08/img/upward_propagation.png" alt="" style="max-height: 250px;" /></p>

<p>Just like how pushing up a key in a 2-3 tree may result in overstuffing
the parent node, <strong>performing these transformations may <em>also</em> violate an LLRB
invariant</strong>, giving us one of these three cases again. We resolve
these cases until we either:</p>

<ul>
  <li>Do not have any broken invariants</li>
  <li>Flip the root’s color</li>
</ul>

<p class="info">What this means is that performing some of these operations (color flip,
rotate right, or rotate left) may end up breaking another invariant, resulting
in more operations. As we try to resolve these cases, these transformations
effectively work up the LLRB tree until we’ve resolved them according to the
conditions above. <br /><br /> In some cases, we must remember to flip the
root’s color back to black in our representation.</p>
<h3 id="llrb-insertion-summary">
  
  
    <a href="#llrb-insertion-summary" class="anchor-heading" aria-labelledby="llrb-insertion-summary"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> LLRB Insertion Summary
  
  
</h3>
    

<p class="info">This section will the most helpful for lab, as you can refer to the diagrams below
on how you would perform the three operations. Consider how you can translate the
rotation operations and color flip operations to a problem involving nodes
and pointer reassignments.</p>

<p>We discussed three operations that we can use to “fix” the LLRB invariants
after inserting a node. Because it’s possible to have upward propagation as mentioned above,
let’s try to generalize our operations a little more visually (specifically for our rotations).</p>

<p>We have two rotations, that can be used to move a right child or left child
up into their parent’s position:</p>

<p><img src="/labs/lab08/img/rotations_summary.png" alt="" style="max-height: 250px;" /></p>

<p>Here’s a brief description of what happens when we <code class="language-plaintext highlighter-rouge">rotateRight(b)</code>:</p>

<ul>
  <li>The root of the subtree has changed from <code class="language-plaintext highlighter-rouge">b</code> to <code class="language-plaintext highlighter-rouge">a</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">b</code> have moved to the “right”.</li>
  <li>The two nodes swap colors so that the new root becomes the old root’s color, and the old root becomes the new root’s color.</li>
  <li>The reorganized subtree still satisfies the binary search property.</li>
</ul>

<p>Here’s a brief description of what happens when we <code class="language-plaintext highlighter-rouge">rotateLeft(a)</code>:</p>

<ul>
  <li>The root of the subtree has changed from <code class="language-plaintext highlighter-rouge">a</code> to <code class="language-plaintext highlighter-rouge">b</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">a</code> and <code class="language-plaintext highlighter-rouge">b</code> have moved to the “left”.</li>
  <li>The two nodes swap colors so that the new root becomes the old root’s color, and the old root becomes the new root’s color.</li>
  <li>The reorganized subtree still satisfies the binary search property.</li>
</ul>

<p>We also have the color flip operation:</p>

<p><img src="/labs/lab08/img/color_flip.png" alt="" style="max-height: 250px;" /></p>
<h2 id="llrb-tree-implementation">
  
  
    <a href="#llrb-tree-implementation" class="anchor-heading" aria-labelledby="llrb-tree-implementation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> LLRB Tree Implementation
  
  
</h2>
    

<p class="warning"><strong>Have you read this <a href="#links-vs-nodes">section</a> yet? If you haven’t
done so, please do before you start implementing this lab.</strong></p>

<p>Before starting, make sure to read through the entire class, <code class="language-plaintext highlighter-rouge">RedBlackTree.java</code>, especially
the provided nested node class. Make sure to also read the comments for each method!</p>
<h3 id="exercise-color-flip">
  
  
    <a href="#exercise-color-flip" class="anchor-heading" aria-labelledby="exercise-color-flip"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Exercise: Color Flip
  
  
</h3>
    

<p>Let’s first consider the color flip operation that is essential to LLRB tree
implementation. Given a node, this operation simply flips its color with
its children’s colors.</p>

<p class="task">Implement the <code class="language-plaintext highlighter-rouge">flipColors</code> method in <code class="language-plaintext highlighter-rouge">RedBlackTree.java</code>.</p>
<h3 id="exercise-rotations">
  
  
    <a href="#exercise-rotations" class="anchor-heading" aria-labelledby="exercise-rotations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Exercise: Rotations
  
  
</h3>
    

<p>We have seen that we can rotate the tree to balance it without violating the
binary search tree invariants. Now, we’ll implement it ourselves!</p>

<p class="info"><strong>For your implementation, make sure to swap the colors of the old root
and the new root!</strong> <br /><br /> Hint: The two operations are symmetric.
Should the code significantly differ? If you find yourself stuck, take
a look at the examples that are shown above!</p>

<p class="task">In <code class="language-plaintext highlighter-rouge">RedBlackTree.java</code>, implement <code class="language-plaintext highlighter-rouge">rotateRight</code> and <code class="language-plaintext highlighter-rouge">rotateLeft</code>.</p>
<h3 id="exercise-insert">
  
  
    <a href="#exercise-insert" class="anchor-heading" aria-labelledby="exercise-insert"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Exercise: <code class="language-plaintext highlighter-rouge">insert</code>
  
  
</h3>
    

<p>We will now implement <code class="language-plaintext highlighter-rouge">insert</code> in <code class="language-plaintext highlighter-rouge">RedBlackTree.java</code>. We have provided you
with some of the logic structure with comments. The first part of <code class="language-plaintext highlighter-rouge">insert</code>
should handle normal binary search tree insertion. You’ll then want to handle
the different cases that causes one of the operations
(<code class="language-plaintext highlighter-rouge">rotateLeft</code>, <code class="language-plaintext highlighter-rouge">rotateRight</code>, <code class="language-plaintext highlighter-rouge">colorFlip</code>) to occur. <strong>Make sure you follow
the steps from all the cases very carefully!</strong></p>

<p>Make sure to use the methods you’ve already implemented (<code class="language-plaintext highlighter-rouge">rotateRight</code>, <code class="language-plaintext highlighter-rouge">rotateLeft</code>,
<code class="language-plaintext highlighter-rouge">flipColors</code>) to simplify the code writing.</p>

<p class="info"><strong>The helper method <code class="language-plaintext highlighter-rouge">isRed</code> has already been provided to you in
the skeleton code so make sure to use it!</strong></p>

<p class="task">Implement the <code class="language-plaintext highlighter-rouge">insert</code> method in <code class="language-plaintext highlighter-rouge">RedBlackTree.java</code>.</p>
<h2 id="deliverables-and-scoring">
  
  
    <a href="#deliverables-and-scoring" class="anchor-heading" aria-labelledby="deliverables-and-scoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Deliverables and Scoring
  
  
</h2>
    

<p>Complete the following methods in <code class="language-plaintext highlighter-rouge">RedBlackTree.java</code>:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">flipColors</code></li>
  <li><code class="language-plaintext highlighter-rouge">rotateRight</code> and <code class="language-plaintext highlighter-rouge">rotateLeft</code></li>
  <li><code class="language-plaintext highlighter-rouge">insert</code></li>
</ul>

<p>This lab is worth 5 points. All tests have been provided to you locally. If you pass all tests in
<code class="language-plaintext highlighter-rouge">TestRedBlackTree.java</code>, you will receive full credit on Gradescope.
Comments have been provided for you throughout the tests
to help you further debug.</p>
<h2 id="submission">
  
  
    <a href="#submission" class="anchor-heading" aria-labelledby="submission"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Submission
  
  
</h2>
    

<p>Just as you did for the previous assignments, add, commit, then push your Lab 08
code to GitHub. Then, submit to Gradescope.</p>

</div>

          

          
        </main>
        

  <hr>
  <footer>
    

    <script>
(function() {
  var navList = document.querySelector('.aux-nav-list');
  if (!navList || !navList.firstElementChild) return;
  var darkToggle = navList.firstElementChild;
  darkToggle.addEventListener('click', (e) => {
    e.preventDefault();
    toggleDark();
  });
})();
</script>

<script src="/assets/js/jquery.min.js"></script>
<!--
<script src="/assets/js/clipboard.min.js"></script>
<script>
// adapted from https://stackoverflow.com/a/48078807/1217368
// Waiting for https://github.com/just-the-docs/just-the-docs/pull/945
$(document).ready(function () {
  $('pre.highlight').each(function (i) {
    // create an id for the current code section
    var currentId = 'codeBlock' + i

    // find the code section and add the id to it
    var codeSection = $(this).find('code')
    codeSection.attr('id', currentId)

    // now create the button, setting the clipboard target to the id
    var btn = document.createElement('a')
    btn.setAttribute('type', 'btn')
    btn.setAttribute('class', 'badge badge-light btn-copy-code')
    btn.setAttribute('data-clipboard-target', '#' + currentId)
    btn.innerHTML = '<i class="fal fa-copy"></i> Copy'
    $(this).after(btn)
  })

  new ClipboardJS('.btn-copy-code')
})
</script>
-->

<script src="/assets/js/tocbot.min.js"></script>
<script>
// Tries to mirror the HTML TOC
tocbot.init({
  tocSelector: '.js-toc',
  contentSelector: '.main-content',
  headingSelector: 'h2, h3',
  ignoreSelector: '.no_toc',
  hasInnerContainers: true,
  linkClass: 'nav-list-link',
  activeLinkClass: 'active',
  listClass: 'nav-list',
  listItemClass: 'nav-list-item',
  activeListItemClass: 'active',
  collapseDepth: 3,
  scrollSmooth: false,
});
</script>


<script>
// adds tabindex = 0 to div elements with class highlight in order to make them keyboard accessible
document.addEventListener('DOMContentLoaded', (event) => {
// Select all elements with class 'highlight'
const highlights = document.querySelectorAll('div.highlight');

// Add tabindex="0" to each selected element
highlights.forEach(element => {
element.setAttribute('tabindex', '0');
});
});
</script>


    
  </footer>


      </div>
    </div>
    
      

<div class="search-overlay"></div>

    
  </div>

  
</body>
</html>

